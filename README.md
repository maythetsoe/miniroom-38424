# README

# アプリケーション名  

_**MiniRoom**_

# アプリケーション概要

ミニマリストの写真や情報などを投稿することができます。  
不要な商品を必要とする人々に差し上げるアプリです。  
結論から言うと一石二鳥です。自分がなりたいミニマリストにも近づけつつ、商品を必要とする人に差し上げれることで大切に使っていただけるのがお互いにいいことだと思います。

# URL
https://miniroom-38424.onrender.com  

# テスト用アカウント

・Basic認証パスワード : admin  
・Basic認証ID : 2222  
・「差し上げます」者用  
  メールアドレス: test@tt.com  
  パスワード: q123123  
・「頂きます」者用  
  メールアドレス: test@p.com  
  パスワード: q123123

# 使用方法

## 写真投稿(Mini Room)

1.トップページ（一覧ページ）のヘッダーからユーザー新規登録ができます。SNSログイン（Facebook, Googleログイン）も可能となっております。もしくはログインで入れます
[![Image from Gyazo](https://i.gyazo.com/4c6bcbc7dc9215f30a814c063f5154fc.png)](https://gyazo.com/4c6bcbc7dc9215f30a814c063f5154fc)
[![Image from Gyazo](https://i.gyazo.com/fb637029c61ec3d21378d72787bd738a.png)](https://gyazo.com/fb637029c61ec3d21378d72787bd738a)

2.Mini Roomから自分の憧れのミニマルリストの写真など(自分の部屋の写真)を投稿できる、写真内容（タイトル・画像・コンセプト）を入力し投稿します。
[![Image from Gyazo](https://i.gyazo.com/f44596f13b65c315233c57308b5bb24d.png)](https://gyazo.com/f44596f13b65c315233c57308b5bb24d)　　

3.投稿済みの写真はトップベージで表示されログインしてない人にも見れます。
[![Image from Gyazo](https://i.gyazo.com/559be5fed5c9669b3ee821c2cef44b6f.png)](https://gyazo.com/559be5fed5c9669b3ee821c2cef44b6f)　　

4.投稿した人が写真をクリックすると写真の詳細・編集する・削除する・コメント・いいねができます。  
[![Image from Gyazo](https://i.gyazo.com/f3c81bcd4fbcaa23daccd6a21d9df844.gif)](https://gyazo.com/f3c81bcd4fbcaa23daccd6a21d9df844)

5.今後、作成したアプリに非同期いいね機能を実装する予定です。

6.現在写真1枚投稿となっておりますが今後複数の写真出来るように実装予定です。

## 他者に物を差し上げる(Donation Room)
1.トップページのヘッダーからDonation Roomをクリックすると下に「差し上げます」のボタンがあります。クリックすると物を差し上げることが出来ます。内容は（商品の状態の写真、説明、発送情報など、着払いのみ  
（目安の料金）などなど）を投稿し寄付できます。
[![Image from Gyazo](https://i.gyazo.com/57b760e5c1c9b2f15f13915f8371c413.gif)](https://gyazo.com/57b760e5c1c9b2f15f13915f8371c413)  

2.ご自身のDonation商品をクリックすると写真の詳細・編集する・削除する・コメント・いいねができます。（Mini Roomと同様です。）  

3.コメント欄の投稿者名をクリックするとその人に今まで投稿した写真などが見れます。ハットマックついているものがDonation商品と付いてないものがMiniRoomの写真投稿です。分かるように分別しています。
[![Image from Gyazo](https://i.gyazo.com/47ee892a04c547c9336732acc194d7f8.gif)](https://gyazo.com/47ee892a04c547c9336732acc194d7f8)

4.ユーザーの寄付した商品の詳細をクリックし、「いただきます」ボタンを押し、自分の情報を入れることで物を手に入れるができます。
[![Image from Gyazo](https://i.gyazo.com/f9e67c8f7b5566e697af90b4c1c9e5e6.png)](https://gyazo.com/f9e67c8f7b5566e697af90b4c1c9e5e6)
[![Image from Gyazo](https://i.gyazo.com/d8b74624a0b785b948e4758decfda7b3.png)](https://gyazo.com/d8b74624a0b785b948e4758decfda7b3)

5.いただいた商品に関しましてはDonationRoomのページに「あげちゃった」という表示でます。商品の詳細にも「あげちゃった」が表示します。
[![Image from Gyazo](https://i.gyazo.com/90735b77e70eb1d419bd97814ed4e69c.png)](https://gyazo.com/90735b77e70eb1d419bd97814ed4e69c)

6.Mini Roomと同様、今後作成したアプリに非同期いいね機能を実装する予定です。

7.現在写真1枚投稿となっておりますが今後複数の写真出来るように実装予定です。

8.ログインしていないユーザーがDonation Roomの商品を見れません。

## マイページ
1.ユーザーがヘッダーから「Welcome To Minimal Life」をクリックするとそのユーザーが投稿した写真（Mini Roomの商品）・寄付した商品（Donation Roomの商品）をまとめてご覧になれます。  

2.今後は自分がいいねし写真・商品などをまとめて見れるように実装予定です。

## 物を譲った方にお返しする（任意）
1.日本人の文化は何かをもらった時を何かをお返しする文化があるため、譲っていただいた商品の中にもし自分がすごく気に入った物があればギフト券などを個人にPrivate Chatでコードを送ることができます。

# アプリケーションを作成した背景

3年前沖縄に引っ越しする前に東京にいた時の沢山の商品をFacebookに差し上げますと宣言する時以外に必要とする方々が多く現れました。その経験を踏まえて、地球環境を守る為にも物を捨てないで使い回せた方がいいと思います。

日本で物を捨てるのに手間やお金がかかること、最近ミニマリストを目標しはじめ、眠っていた物がたくさんあり、それらをメルカリで販売する選択肢もありますが安く売るより必要とする人々に差し上げた方が気持ちがいいと思っています。  

また、シンプルな部屋を見ると自分のモチベーションにも繋がり、不要なものをその場で手放せるのでこのアプリケーションを開発することにしました。

# 洗い出した要件
https://docs.google.com/spreadsheets/d/13ALrbDsXBnYmrMgrvqt-Ez_B9FS7YMavWjlPZvDCvmk/edit#gid=982722306

# 実装済みの機能　　
1. 新規登録（SNSアカウントでログインできる機能も含む）
2. Mini　Room機能（写真投稿）⇨ホームページに一覧表示されます。
3. Mini Room詳細機能・Mini Room編集機能・Mini Room削除機能・Mini Room一覧表
4. Donation Room機能（寄付する投稿）⇨Donation Roomページに一覧表示されます。
5. Donation Room詳細機能・Donation Room編集機能・Donation Room削除機能・Donation Room一覧表
8. Receive機能（いただきます機能）⇨いただいた商品に対しては「あげちゃった」が表示されます。　　
9. 個々のコメント機能
10. 個々のいいね機能 
11. マイページ機能(MiniRoom・DonationRoom表示されます)
12. トップページへ戻るボタン

# 実装予定の機能
1. 作成したアプリに非同期いいね機能を実装する予定です。
2. 複数写真投稿が出来るように実装予定です。
3. 自分がいいねし写真・商品などをまとめて見れるように実装予定です。

# データベース設計(ER図)

[![Image from Gyazo](https://i.gyazo.com/6d2737e92119b4533ded3b4f517e842b.png)](https://gyazo.com/6d2737e92119b4533ded3b4f517e842b)

# 画面遷移図

[![Image from Gyazo](https://i.gyazo.com/c57659a07c4398cca57bd293ffa43a96.png)](https://gyazo.com/c57659a07c4398cca57bd293ffa43a96)

# 開発環境

・フロントエンド
・バックエンド
・インフラ
・テスト
・テキストエディタ
・タスク管理

# 工夫したポイント  

1.SNS（facebook, Google）でログインできます。 
2.着払いのみ為、商品と見合う払う価値あるかをすぐ判断できるように目安の料金を確認できます。  
3.誰でもか使える簡単でシンプリなアプリです。  
4.地球環境の為に自分が細やかな部分でも貢献出来ればと思い一石二鳥のこのアプリを作る事にしました。  
5.今まで学習したことやまだ学習してないことなどを自分のアプリに入れて完成するように日々少しずつ実装していました。


# テーブル設計

## usersテーブル

| Column                           | Type   | Options                       |
| -------------------------------  | ------ | ----------------------------- |
| nickname                         | string | null: false                   |
| first_name                       | string | null: false                   |
| last_name                        | string | null: false                   |
| email                            | string | null: false, unique: true     |
| encrypted_password               | string | null: false                   |

### Association

- has_many :minirooms
- has_many :donations
- has_many :comments
- has_many :receives
- has_many :favorites
- has_many :miniroomfavorites

## mini roomテーブル　（prototype）
## imageはActive Storage導入

| Column                           | Type       | Options                        |
| -------------------------------  | ---------- | -------------------------------|
| title                            | string     | null: false                    |
| concept                          | text       | null: false                    |
| user                             | references | null: false, foreign_key: true |

### Association

- belongs_to :user
- has_many :comments
- has_many :miniroomfavorites
- has_many :miniroomcomments


## donationテーブル(出品)
## imageはActive Storage導入

| Column                           | Type       | Options                        |
| -------------------------------  | ---------- | -------------------------------|
| user                             | references | null: false, foreign_key: true |
| name                             | string     | null: false                    |
| description                      | text       | null: false                    |
| category_id                      | integer    | null: false                    |
| condition_id                     | integer    | null: false                    |
| delivery_id                      | integer    | null: false                    |
| region_id                        | integer    | null: false                    |
| ship_id                          | integer    | null: false                    |
| size_id                          | integer    | null: false                   
|

### Association

- belongs_to :user
- has_one :receive
- has_many :comments
- has_many :favorites


## receiveテーブル(order)

| Column                           | Type       | Options                        |
| -------------------------------  | ---------- | -------------------------------|
| user                             | references | null: false, foreign_key: true |
| donation                         | references | null: false, foreign_key: true |
| post_code                        | string     | null: false                    |
| region_id                        | integer    | null: false                    |
| city                             | string     | null: false                    |
| address                          | string     | null: false                    |
| phone_num                        | string     | null: false                    |

### Association

- belongs_to :user
- belongs_to :donation


## commentsテーブル

| Column                           | Type       | Options                        |
| -------------------------------  | ---------- | -------------------------------|
| content                          | text       | null: false                    |
| donation                         | references | null: false, foreign_key: true |
| user                             | references | null: false, foreign_key: true |

### Association

- belong_to :user
- belong_to :donation

## favoritesテーブル

| Column                           | Type       | Options                        |
| -------------------------------  | ---------- | -------------------------------|
| donation                         | references | null: false, foreign_key: true |
| user                             | references | null: false, foreign_key: true |

### Association

- belong_to :user
- belong_to :donation

## miniroomfavoritesテーブル

| Column                           | Type       | Options                        |
| -------------------------------  | ---------- | -------------------------------|
| miniroom                         | references | null: false, foreign_key: true |
| user                             | references | null: false, foreign_key: true |

### Association

- belong_to :user
- belong_to :miniroom

## miniroomcommentsテーブル

| Column                           | Type       | Options                        |
| -------------------------------  | ---------- | -------------------------------|
| content                          | text       | null: false                    |
| miniroom                         | references | null: false, foreign_key: true |
| user                             | references | null: false, foreign_key: true |

### Association

- belong_to :user
- belong_to :miniroom

